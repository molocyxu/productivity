<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Orbit Command Center</title>
    <link rel="icon" type="image/png" href="assets/favicon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body data-theme="aurora">
    <div class="app">
      <div class="app-layout">
        <div class="left-section">
      <header class="app-header">
        <div class="branding">
          <div class="branding-header">
            <img src="assets/logo.png" alt="Orbit Logo" class="brand-logo" />
          <div class="logo">Orbit</div>
          </div>
          <div class="subtitle">Daily command center</div>
        </div>
        <div class="header-center">
          <div class="today">
            <span id="today-date"></span>
            <span class="clock" id="live-clock"></span>
          </div>
          <div class="header-metrics">
            <div class="metric">
              <span class="metric-label">Events</span>
              <span class="metric-value" id="metric-events">0</span>
            </div>
            <div class="metric">
              <span class="metric-label">Tasks</span>
              <span class="metric-value" id="metric-tasks">0</span>
            </div>
            <div class="metric">
              <span class="metric-label">Focus</span>
              <span class="metric-value" id="metric-focus">0</span>
            </div>
          </div>
        </div>
        <div class="header-actions">
          <label class="select small">
            Theme
            <select id="theme-select"></select>
          </label>
          <div class="sync-status">
            <i class="fa-solid fa-bolt"></i>
            Local-only mode
          </div>
        </div>
      </header>

      <main id="main-split" class="split split-horizontal">
        <section id="calendar-column" class="panel">
          <div class="panel-header">
            <div>
              <h2>Today's schedule</h2>
            </div>
            <div class="panel-badge">
              <i class="fa-solid fa-calendar-day"></i>
              <span id="calendar-summary">No events</span>
            </div>
            <div class="header-actions-buttons">
              <button class="icon-button view-calendar-btn" id="view-calendar-btn" title="View calendar">
                <i class="fa-solid fa-calendar"></i>
              </button>
              <button class="icon-button add-event-btn" id="add-event-btn" title="Add new event">
                <i class="fa-solid fa-plus"></i>
              </button>
            </div>
          </div>
          <div class="panel-body calendar-body">
            <div class="list-card">
              <div class="card-header">
                <h3>Today</h3>
                <p id="event-subtitle"></p>
              </div>
              <div class="list-header">
                <span class="list-count" id="event-count">0 events</span>
              </div>
              <div id="event-list" class="scrollable"></div>
            </div>
            
            <div class="list-card tomorrow-card">
              <div class="card-header">
                <h3>Tomorrow</h3>
                <p id="tomorrow-subtitle"></p>
              </div>
              <div class="list-header">
                <span class="list-count" id="tomorrow-event-count">0 events</span>
              </div>
              <div id="tomorrow-event-list" class="scrollable"></div>
            </div>
          </div>
        </section>

        <section id="todo-column" class="panel">
          <div class="panel-header">
            <div>
              <h2>To-do command list</h2>
            </div>
            <div class="panel-badge">
              <i class="fa-solid fa-list-check"></i>
              <span id="todo-summary">No tasks</span>
            </div>
            <button class="icon-button add-todo-btn" id="add-todo-btn" title="Add new task">
              <i class="fa-solid fa-plus"></i>
            </button>
          </div>
          <div class="panel-body todo-body">
            <div class="list-card">
                <div class="card-header">
                <h3>Task queue</h3>
              </div>
              <div class="list-header">
                <span class="list-count" id="todo-count">0 tasks</span>
                <button class="text-button toggle-full-list-btn" id="toggle-full-list-btn" title="Show all tasks">
                  <i class="fa-solid fa-list"></i>
                  <span id="toggle-full-list-text">See full list</span>
                </button>
              </div>
              <div id="todo-list" class="scrollable"></div>
            </div>
          </div>
        </section>
          </main>
        </div>

        <section id="right-column" class="split split-vertical">
          <section id="status-panel" class="panel">
            <div class="panel-body">
              <div class="status-controls">
                <button class="icon-button add-status-btn" id="add-status-btn" title="Add new status">
                  <i class="fa-solid fa-plus"></i>
                </button>
                <button class="icon-button edit-status-btn" id="edit-status-btn" title="Edit statuses">
                  <i class="fa-solid fa-pen"></i>
                </button>
                <div class="status-selector-inline">
                  <select id="status-selector" class="status-selector">
                    <option value="invisible">Invisible</option>
                  </select>
                </div>
              </div>
              <div id="status-display" class="status-display">
                <div class="status-display-content">
                  <div class="status-display-image"></div>
                </div>
              </div>
            </div>
          </section>

          <section id="insights-panel" class="panel">
            <div class="panel-header">
              <div>
                <h2>Upcoming highlights</h2>
              </div>
              <div class="panel-badge">
                <i class="fa-solid fa-location-arrow"></i>
                <span id="insight-summary">No upcoming items</span>
              </div>
            </div>
            <div class="panel-body">
              <div class="insight-group">
                <h3>Urgent &amp; important events</h3>
                <div id="urgent-events" class="insight-list"></div>
              </div>
              <div class="insight-group">
                <h3>Due dates approaching</h3>
                <div id="due-soon" class="insight-list"></div>
              </div>
            </div>
          </section>

          <section id="notes-panel" class="panel">
            <div class="panel-header">
              <div>
                <h2>Notes &amp; reminders</h2>
              </div>
              <div class="panel-badge">
                <i class="fa-solid fa-pen-nib"></i>
                <span id="notes-summary">Autosaved</span>
              </div>
            </div>
            <div class="panel-body">
              <textarea
                id="notes-input"
                class="notes-area"
                rows="12"
                placeholder="Type reminders, ideas, quick notes..."
              ></textarea>
            </div>
          </section>
        </section>
      </div>
    </div>

    <div id="hover-tooltip" class="hover-tooltip" aria-hidden="true"></div>

    <!-- Settings Menu -->
    <div class="settings-menu-wrapper">
      <button class="settings-menu-button" id="settings-menu-button" title="Settings">
        <i class="fa-solid fa-ellipsis-vertical"></i>
      </button>
      <div class="settings-menu-dropdown" id="settings-menu-dropdown">
        <button class="settings-menu-item" id="save-preset">
          <i class="fa-solid fa-floppy-disk"></i>
          <span>Save workspace</span>
        </button>
        <button class="settings-menu-item" id="load-preset">
          <i class="fa-solid fa-folder-open"></i>
          <span>Load workspace</span>
        </button>
        <div class="settings-menu-divider"></div>
        <button class="settings-menu-item" id="load-sample">
          <i class="fa-solid fa-wand-magic-sparkles"></i>
          <span>Load sample day</span>
        </button>
        <button class="settings-menu-item danger" id="reset-data">
          <i class="fa-solid fa-trash"></i>
          <span>Reset</span>
        </button>
      </div>
    </div>

    <!-- Calendar View Modal -->
    <div id="calendar-view-modal" class="modal" aria-hidden="true">
      <div class="modal-overlay"></div>
      <div class="modal-content modal-content-calendar">
        <div class="modal-header">
          <div class="calendar-view-header">
            <button class="icon-button calendar-nav-btn" id="calendar-prev-week" title="Previous week">
              <i class="fa-solid fa-chevron-left"></i>
            </button>
            <h2 id="calendar-view-week-label">Week of...</h2>
            <button class="icon-button calendar-nav-btn" id="calendar-next-week" title="Next week">
              <i class="fa-solid fa-chevron-right"></i>
            </button>
            <button class="icon-button calendar-today-btn" id="calendar-today-btn" title="Go to current week">
              Today
            </button>
          </div>
          <button class="icon-button modal-close" id="calendar-view-modal-close" aria-label="Close">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <div class="calendar-week-grid" id="calendar-week-grid">
          <!-- Calendar days will be rendered here -->
        </div>
      </div>
    </div>

    <!-- Todo Add/Edit Modal -->
    <div id="todo-modal" class="modal" aria-hidden="true">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="todo-modal-title">Add task</h2>
          <button class="icon-button modal-close" id="todo-modal-close" aria-label="Close">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <form id="todo-form" class="form-grid">
          <input type="hidden" id="todo-id" />
          <label class="field span-2">
            Task
            <input id="todo-title" type="text" placeholder="Outline chapter 5" required />
          </label>
          <label class="field">
            Start date
            <input id="todo-start" type="date" />
          </label>
          <label class="field">
            Due date
            <input id="todo-due" type="date" />
          </label>
          <label class="field span-2">
            Reference link
            <input id="todo-link" type="url" placeholder="https://..." />
          </label>
          <label class="field">
            Priority
            <select id="todo-priority">
              <option value="normal">Normal</option>
              <option value="important">Important</option>
              <option value="urgent">Urgent</option>
            </select>
          </label>
          <label class="field span-2">
            Notes
            <textarea id="todo-notes" rows="3" placeholder="Requirements, notes, blockers..."></textarea>
          </label>
          <div class="modal-actions span-2">
            <button class="primary" type="submit">
              <i class="fa-solid fa-plus"></i>
              <span id="todo-form-submit-text">Save task</span>
            </button>
            <button class="ghost" id="todo-clear" type="button">Clear</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Status Add/Edit Modal -->
    <div id="status-modal" class="modal" aria-hidden="true">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="status-modal-title">Add new status</h2>
          <button class="icon-button modal-close" id="status-modal-close" aria-label="Close">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <form id="status-form" class="status-form">
          <input type="hidden" id="status-edit-id" />
          <label class="field">
            Label
            <input id="status-label" type="text" placeholder="Focused" required />
          </label>
          <label class="field">
            Color
            <input id="status-color" type="color" value="#22c55e" />
          </label>
          <label class="field">
            Image
            <div class="file-input-wrapper">
              <label for="status-image" class="file-input-label" id="status-image-label">
                <i class="fa-solid fa-image"></i>
                <span>Choose image...</span>
              </label>
              <input id="status-image" type="file" accept="image/*" />
            </div>
          </label>
          <div class="modal-actions">
            <button class="primary" type="submit" id="status-form-submit">
              <i class="fa-solid fa-plus"></i>
              <span id="status-form-submit-text">Add status</span>
            </button>
            <button class="ghost" type="button" id="status-form-cancel">Cancel</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Event Add/Edit Modal -->
    <div id="event-modal" class="modal" aria-hidden="true">
      <div class="modal-overlay"></div>
      <div class="modal-content modal-content-large">
        <div class="modal-header">
          <h2 id="event-modal-title">Create event</h2>
          <button class="icon-button modal-close" id="event-modal-close" aria-label="Close">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <form id="event-form" class="form-grid event-form-modal">
                  <input type="hidden" id="event-id" />
                  <input type="hidden" id="event-occurrence-date" />
                  <label class="field span-2">
                    Title
                    <input id="event-title" type="text" placeholder="Stand-up sync" required />
                  </label>
                  <label class="field">
                    Date
                    <input id="event-date" type="date" />
                  </label>
                  <label class="field">
                    Start
                    <input id="event-start" type="time" />
                  </label>
                  <label class="field">
                    End
                    <input id="event-end" type="time" />
                  </label>
                  <label class="field toggle">
                    All-day
                    <input id="event-allday" type="checkbox" />
                    <span class="toggle-slider"></span>
                  </label>
                  <label class="field">
                    Priority
                    <select id="event-priority">
                      <option value="normal">Normal</option>
                      <option value="important">Important</option>
                      <option value="urgent">Urgent</option>
                    </select>
                  </label>
                  <label class="field">
                    Calendar
                    <select id="event-calendar">
                      <option value="Personal">Personal</option>
                      <option value="Work">Work</option>
                      <option value="Holiday">Holiday</option>
                      <option value="Social">Social</option>
                    </select>
                  </label>
                  <label class="field">
                    Visibility
                    <select id="event-visibility">
                      <option value="Default">Default</option>
                      <option value="Private">Private</option>
                      <option value="Public">Public</option>
                    </select>
                  </label>
                  <label class="field">
                    Reminder
                    <select id="event-reminder">
                      <option value="None">None</option>
                      <option value="5 minutes">5 minutes</option>
                      <option value="15 minutes">15 minutes</option>
                      <option value="30 minutes">30 minutes</option>
                      <option value="1 hour">1 hour</option>
                    </select>
                  </label>
                  <label class="field">
                    Repeat
                    <select id="event-repeat">
                      <option value="None">Does not repeat</option>
                      <option value="Daily">Daily</option>
                      <option value="Weekly">Weekly</option>
                      <option value="Monthly">Monthly</option>
              <option value="Custom">Custom days</option>
                    </select>
                  </label>
          <div id="custom-repeat-days" class="custom-repeat-days" style="display: none;">
            <label class="field span-2">
              <span style="font-size: 12px; color: var(--muted); margin-bottom: 8px; display: block;">Select days:</span>
              <div class="day-selector">
                <label class="day-checkbox">
                  <input type="checkbox" value="monday" data-day="Mon" />
                  <span>Mon</span>
                </label>
                <label class="day-checkbox">
                  <input type="checkbox" value="tuesday" data-day="Tue" />
                  <span>Tue</span>
                </label>
                <label class="day-checkbox">
                  <input type="checkbox" value="wednesday" data-day="Wed" />
                  <span>Wed</span>
                </label>
                <label class="day-checkbox">
                  <input type="checkbox" value="thursday" data-day="Thu" />
                  <span>Thu</span>
                </label>
                <label class="day-checkbox">
                  <input type="checkbox" value="friday" data-day="Fri" />
                  <span>Fri</span>
                </label>
                <label class="day-checkbox">
                  <input type="checkbox" value="saturday" data-day="Sat" />
                  <span>Sat</span>
                </label>
                <label class="day-checkbox">
                  <input type="checkbox" value="sunday" data-day="Sun" />
                  <span>Sun</span>
                </label>
              </div>
            </label>
          </div>
                  <label class="field span-2">
                    Location
                    <input id="event-location" type="text" placeholder="Studio A or Zoom" />
                  </label>
                  <label class="field span-2">
                    Meeting link
                    <input id="event-link" type="url" placeholder="https://meet.google.com/..." />
                  </label>
                  <label class="field span-2">
                    Guests
                    <input id="event-guests" type="text" placeholder="alex@, dev team, ..." />
                  </label>
                  <label class="field span-2">
                    Description
                    <textarea id="event-description" rows="3" placeholder="Agenda, notes, prep..."></textarea>
                  </label>
                  <label class="field span-2 color-field">
                    Event color
                    <div class="color-row">
                      <input id="event-color" type="color" value="#6c7bff" />
                      <div class="color-palette" id="event-color-palette"></div>
                    </div>
                  </label>
          <div class="modal-actions span-2">
                    <button class="primary" type="submit">
                      <i class="fa-solid fa-plus"></i>
              <span id="event-form-submit-text">Save event</span>
                    </button>
            <button class="ghost" id="event-clear" type="button">Clear</button>
            <button class="ghost danger" id="event-delete" type="button" style="display: none;">
              <i class="fa-solid fa-trash"></i>
              <span>Delete</span>
                    </button>
                  </div>
                </form>
            </div>
          </div>

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="modal" aria-hidden="true">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="confirm-modal-title">Confirm action</h2>
          <button class="icon-button modal-close" id="confirm-modal-close" aria-label="Close">
            <i class="fa-solid fa-xmark"></i>
                    </button>
                  </div>
        <div class="confirm-modal-body">
          <p id="confirm-modal-message">Are you sure you want to proceed?</p>
          <div id="confirm-recurring-options" class="confirm-recurring-options" style="display: none;">
            <label class="confirm-radio-option">
              <input type="radio" name="delete-option" value="single" checked />
              <div class="radio-content">
                <div class="radio-title">Delete this occurrence only</div>
                <div class="radio-description">Only remove this specific instance of the event</div>
              </div>
            </label>
            <label class="confirm-radio-option">
              <input type="radio" name="delete-option" value="all" />
              <div class="radio-content">
                <div class="radio-title">Delete all occurrences</div>
                <div class="radio-description">Remove this event and all future occurrences</div>
              </div>
            </label>
          </div>
              </div>
        <div class="modal-actions">
          <button class="ghost" id="confirm-modal-cancel">Cancel</button>
          <button class="primary danger" id="confirm-modal-confirm">
            <i class="fa-solid fa-trash"></i>
            <span id="confirm-modal-confirm-text">Delete</span>
                </button>
              </div>
              </div>
            </div>

    <!-- Save Preset Modal -->
    <div id="save-preset-modal" class="modal" aria-hidden="true">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Save workspace</h2>
          <button class="icon-button modal-close" id="save-preset-modal-close" aria-label="Close">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <div class="modal-body">
          <p style="margin: 0 0 20px 0; color: var(--muted); font-size: 14px;">
            Save your current workspace as a named preset. This includes all events, tasks, statuses, notes, and customizations.
          </p>
          <label class="field">
            Preset name
            <input id="preset-name-input" type="text" placeholder="My Workspace" maxlength="50" />
          </label>
        </div>
        <div class="modal-actions">
          <button class="ghost" id="save-preset-cancel">Cancel</button>
          <button class="primary" id="save-preset-confirm">
            <i class="fa-solid fa-floppy-disk"></i>
            <span>Save</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Load Preset Modal -->
    <div id="load-preset-modal" class="modal" aria-hidden="true">
      <div class="modal-overlay"></div>
      <div class="modal-content modal-content-large">
        <div class="modal-header">
          <h2>Load workspace</h2>
          <button class="icon-button modal-close" id="load-preset-modal-close" aria-label="Close">
            <i class="fa-solid fa-xmark"></i>
          </button>
        </div>
        <div class="modal-body">
          <p style="margin: 0 0 20px 0; color: var(--muted); font-size: 14px;">
            Select a saved workspace to load. This will overwrite your current workspace.
          </p>
          <div id="preset-list" class="preset-list">
            <div class="empty-state">No saved workspaces</div>
          </div>
        </div>
        <div class="modal-actions">
          <button class="ghost" id="load-preset-cancel">Cancel</button>
        </div>
      </div>
    </div>

    <!-- Status Edit/Manage Modal -->
    <div id="status-edit-modal" class="modal" aria-hidden="true">
      <div class="modal-overlay"></div>
      <div class="modal-content modal-content-large">
        <div class="modal-header">
          <h2>Manage statuses</h2>
          <button class="icon-button modal-close" id="status-edit-modal-close" aria-label="Close">
            <i class="fa-solid fa-xmark"></i>
                    </button>
              </div>
        <div id="status-edit-list" class="status-edit-list"></div>
        <div class="modal-actions">
          <button class="ghost" type="button" id="status-edit-modal-close-btn">Done</button>
              </div>
            </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/split.js/dist/split.min.js"></script>
    <script src="app.js"></script>
  </body>
</html>
